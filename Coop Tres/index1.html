<!DOCTYPE html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf8" />
	<title>Coop Deux</title>
	<script type="text/javascript">
		function refresh() {
			var req = new XMLHttpRequest();
			console.log("Grabbing Value");
			req.onreadystatechange = function () {
				if (req.readyState == 4 && req.status == 200) {
					document.getElementById('coopStatus').innerText = req.responseText;
				}
			}
			req.open("GET", 'status.txt', true);
			req.send(null);
		}

		function init() {
			refresh()
			var int = self.setInterval(function () {
				refresh()
			}, 10000);
		}
	</script>
</head>

<body onload="init()">
	<p><b>Coop Deux</b></p>
	<div><b id="timebox"></b></div>
	<div><b id="datebox"></b></div>
	<div id="main">
	<div id="updateMe">
		<p><b id="coopStatus"></b></p>
	</div>
	</div>
<script type="text/javascript">
var tday=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
var tmonth=["January","February","March","April","May","June","July","August","September","October","November","December"];

function GetClock(){
var d=new Date();
var nday=d.getDay(),nmonth=d.getMonth(),ndate=d.getDate(),nyear=d.getFullYear();
var nhour=d.getHours(),nmin=d.getMinutes(),nsec=d.getSeconds(),ap;

if(nhour==0){ap=" AM";nhour=12;}
else if(nhour<12){ap=" AM";}
else if(nhour==12){ap=" PM";}
else if(nhour>12){ap=" PM";nhour-=12;}

if(nmin<=9) nmin="0"+nmin;
if(nsec<=9) nsec="0"+nsec;

var timetext = nhour + ":" + nmin + ":" + nsec+ap;
var datetext = tday[nday]+", "+tmonth[nmonth]+" "+ndate+", "+nyear;

document.getElementById('timebox').innerHTML=timetext;
document.getElementById('datebox').innerHTML=datetext;

}

GetClock();
setInterval(GetClock,1000);
	</script>

</body>
</html>
